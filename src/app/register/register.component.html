<div class="h-screen flex justify-center items-center bg-gray-100">
  <div
    class="flex flex-col md:flex-row items-center justify-center w-full max-w-6xl mx-auto p-6"
  >
    <!-- Image Section -->
    <div class="md:flex md:justify-center md:items-start md:w-1/2 lg:mb-0">
      <img
        src="assets/repair_man.svg"
        alt="Repair Man"
        class="max-w-sm h-auto mb-8 md:mb-0"
      />
    </div>

    <!-- Registration Form -->
    <div class="bg-white p-10 rounded-lg shadow-2xl md:w-1/2">
      <form
        (ngSubmit)="onSubmit()"
        [formGroup]="registerForm"
        class="space-y-6"
      >
        <!-- Name -->
        <div class="grid grid-cols-2 gap-4">
          <div class="relative">
            <input
              formControlName="firstName"
              type="text"
              placeholder="First Name"
              class="w-full py-3 px-4 text-lg border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none"
            />
          </div>
          <div class="relative">
            <input
              formControlName="lastName"
              type="text"
              placeholder="Last Name"
              class="w-full py-3 px-4 text-lg border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none"
            />
          </div>
        </div>

        <!-- Email -->
        <div class="relative">
          <input
            formControlName="email"
            type="email"
            placeholder="Email address"
            class="w-full py-3 px-4 text-lg border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none"
          />
        </div>

        <!-- Password -->
        <div class="relative group">
          <input
            formControlName="password"
            [type]="showPassword ? 'text' : 'password'"
            placeholder="Password"
            class="w-full py-3 px-4 text-lg border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none"
          />
          <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
            <button
              type="button"
              (click)="toggleShowPassword()"
              class="text-gray-600 text-lg"
            >
              <span *ngIf="showPassword">Hide</span>
              <span *ngIf="!showPassword">Show</span>
            </button>
          </div>
          <!-- Feedback for password using optional chaining -->
          <div
            *ngIf="
              registerForm.get('password')?.touched &&
              registerForm.get('password')?.errors
            "
            class="text-red-500 text-sm mt-1"
          >
            <div *ngIf="registerForm.get('password')?.errors?.['required']">
              Password is required.
            </div>
            <div *ngIf="registerForm.get('password')?.errors?.['minlength']">
              Password must be at least 8 characters long.
            </div>
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="relative group">
          <input
            formControlName="confirmPassword"
            [type]="showPassword ? 'text' : 'password'"
            placeholder="Confirm Password"
            class="w-full py-3 px-4 text-lg border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none"
          />
          <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
            <button
              type="button"
              (click)="toggleShowPassword()"
              class="text-gray-600 text-lg"
            >
              <span *ngIf="showPassword">Hide</span>
              <span *ngIf="!showPassword">Show</span>
            </button>
          </div>
          <!-- Feedback for confirm password using optional chaining -->
          <div
            *ngIf="registerForm.errors?.['notSame'] && registerForm.get('confirmPassword')?.touched"
            class="text-red-500 text-sm mt-1"
          >
            Passwords do not match.
          </div>
        </div>

        <!-- Role -->
        <div class="relative">
          <input
            formControlName="role"
            type="text"
            placeholder="Role (optional)"
            class="w-full py-3 px-4 text-lg border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none"
          />
        </div>

        <!-- Country -->
        <div class="relative">
          <select
            formControlName="country"
            class="block w-full py-3 px-4 text-lg text-black placeholder-black border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none"
          >
            <option value="">Select Country</option>
            <option value="USA">United States</option>
            <option value="CAN">Canada</option>
            <option value="GBR">United Kingdom</option>
            <!-- use Api in the future to fetch? -->
          </select>
        </div>

        <!-- Timezone -->
        <div class="relative">
          <select
            formControlName="timezone"
            class="block w-full py-3 px-4 text-lg text-black placeholder-black border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none"
          >
            <option value="">Select Timezone</option>
            <option value="UTC-5">Eastern Time (US & Canada)</option>
            <option value="UTC-6">Central Time (US & Canada)</option>
            <option value="UTC-7">Mountain Time (US & Canada)</option>
            <!-- Future implementation wil use API to fetch -->
          </select>
        </div>

        <!-- Website -->
        <div class="relative">
          <input
            formControlName="website"
            type="text"
            placeholder="Website (optional)"
            class="w-full py-3 px-4 text-lg border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none"
          />
        </div>

        <!-- Bio -->
        <div class="relative">
          <textarea
            formControlName="bio"
            placeholder="Bio (optional)"
            class="w-full py-3 px-4 text-lg border-b-2 border-gray-300 focus:border-yellow-700 rounded-t-md focus:outline-none resize-none"
            rows="3"
          ></textarea>
        </div>

        <!-- Submit Button -->
        <div class="mt-4">
          <button
            type="submit"
            class="w-full bg-yellow-700 text-white py-3 rounded-lg font-semibold text-lg transition duration-300 ease-in-out hover:bg-yellow-800 disabled:cursor-not-allowed"
            [disabled]="!registerForm.valid"
          >
            Create account
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
